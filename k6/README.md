# Usage

For a quick start:
- Follow the steps in [In-Depth Documentation](https://circlepay.atlassian.net/wiki/spaces/ENGINEERIN/pages/428179543/Load+Test+Instructions)
 to install K6.
- Download dependencies and build the project by running: `make build`.
- (todo: Instruction of starting dependency services or mock)
- Start Verifier.
- Run tests with `make run` command. Example: `make run TEST=dist/verification.post_challenge.test.bundle.js`

| Command                     | Description                                                                                                                                     | Environment Variables                                                                                                                                                                                                        |
|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `make install`              | Install all dependencies to run k6 locally                                                                                                      | N/A                                                                                                                                                                                                                          |
| `make run`                  | Clean, build, and run tests locally                                                                                                             | `TEST={PATH_TO_TEST_FILE} ENV={ENVIRONMENT}` <br/>Example: `make run ENV=dev TEST=dist/wallet_resource.create_wallet.test.bundle.js` <br/> When `ENV` is `dev`, logs will show the position of error in original source file |
| `make run-dev`              | Clean, build with webpack source-map, and run tests locally. Errors during runtime will point to the error location in the original source file | Same as `make run`                                                                                                                                                                                                           |
| `make style`                | Style and fix all linting errors                                                                                                                | N/A                                                                                                                                                                                                                          |
| `make check-node-installed` | Check if NodeJS is installed                                                                                                                    | N/A                                                                                                                                                                                                                          |
| `make build`                | Build test source files to `dist` directory                                                                                                     | N/A                                                                                                                                                                                                                          |
| `make build-dev`            | Build test source files to `dist` directory with webpack source-map.                                                                            | N/A                                                                                                                                                                                                                          |
| `make node-modules`         | Install Node.JS npm dependencies                                                                                                                | N/A                                                                                                                                                                                                                          |
| `make clean`                | Clean test artifacts in `dist` directory                                                                                                        | N/A                                                                                                                                                                                                                          |



